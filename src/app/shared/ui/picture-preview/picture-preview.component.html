<div *ngIf="picture != undefined && !isDeleted" [id]="picture.id" class="pb-1 picture">

  <p-card styleClass="p-card-shadow card text-center pt-1 mb-4">

    <ng-template pTemplate="header">
      <div class="p-card-title text-center mt-1">{{picture.name | titlecase}}</div>
      <div class="p-card-subtitle d-flex flex-row justify-content-center align-items-center gap-1 flex-wrap">
        Dodano przez:
        <span>
          <a class="account-link" [routerLink]="'/account/' + picture.accountPreview.id"
                attr.aria-label="Konto {{picture.accountPreview.nickname}}">{{picture.accountPreview.nickname}}</a>,
        </span>
        {{picture.pictureAdded | dateAgo}}
      </div>
    </ng-template>

    <div class="img-wrapper" attr.aria-label="Obrazek {{picture.name}}">
      <img src='{{this.picture.url}}' class="img-fluid w-100" alt="{{picture.name}} by {{picture.accountPreview.nickname}}"
           attr.aria-label='"{{picture.name}}" dodany przez {{picture.accountPreview.nickname}}'>
    </div>

    <ng-template pTemplate="footer">
      <div class="d-flex justify-content-between py-3">

        <div class="d-flex ml-3">
<!--          <button pButton class="mx-1 px-2 py-2 p-button-icon-only"-->
<!--                  icon="bi bi-share" (click)="showShare = true" aria-label="share">-->
<!--          </button>-->
          <button class="mx-1 py-2 button-strong" pButton routerLink="popup/picture/{{picture.id}}" aria-label="details"
                  icon="bi bi-chat-dots" label="{{picture.commentCount}}">
          </button>
        </div>

        <div class="d-flex mr-3">
          <app-vote-button
            [voteType]="0"
            [likeState]="picture.likeState"
            [likeCount]="picture.likeCount"
            [dislikeCount]="picture.dislikeCount"
            [isLoggedOn]="isLoggedOn"
            (voted)="$event === 0 ? like() : dislike()">
          </app-vote-button>
          <app-vote-button
            [voteType]="1"
            [likeState]="picture.likeState"
            [likeCount]="picture.likeCount"
            [dislikeCount]="picture.dislikeCount"
            [isLoggedOn]="isLoggedOn"
            (voted)="$event === 0 ? like() : dislike()">
          </app-vote-button>
        </div>

      </div>
    </ng-template>
  </p-card>

</div>
