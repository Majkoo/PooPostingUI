<div class="m-4" @fadeIn>

  <form #form="ngForm" (ngSubmit)="onSubmit()">
    <h2 class="text-2xl font-bolder text-center mb-6">
      Login
    </h2>

    <div class="mb-3">
      <input
        type="text"
        class="input"
        placeholder="Username"
        name="nickname"
        #name="ngModel"
        [(ngModel)]="loginDto.nickname"
        [ngClass]="name.errors && name.touched && name.dirty ? 'border-warning' : 'border-grey'"
        required
      >
      <div
        class="text-warning opacity-75 px-2 mt-1 text-sm"
        [@errorAnimation]="name.touched && name.dirty ? 'visible' : 'hidden'"
      >

        <div
          [@errorAnimation]="name.errors && name.errors['required'] ? 'visible' : 'hidden'"
        >
          <span>Username is required</span>
        </div>

      </div>
    </div>

    <div class="mb-3">
      <input
        type="password"
        class="input"
        placeholder="Password"
        name="password"
        #password="ngModel"
        [(ngModel)]="loginDto.password"
        [ngClass]="password.errors && password.touched && password.dirty ? 'border-warning' : 'border-grey'"
        required
      >
      <div
        class="text-warning opacity-75 px-2 mt-1 text-sm"
        [@errorAnimation]="password.touched && password.dirty ? 'visible' : 'hidden'"
      >

        <div
          [@errorAnimation]="password.errors && password.errors['required'] ? 'visible' : 'hidden'"
        >
          <span>Password is required</span>
        </div>

      </div>
    </div>


    <div class="text-center">

      <button
        class="px-20 py-3 bg-cta text-white font-bold mt-4 rounded-lg disabled:opacity-60"
        type="submit"
        [disabled]="form.invalid || awaitSubmit"
      >
        Login
      </button>

      <div
        class="mt-4 text-grey text-sm"
      >
        Don't have an account?
        <a [routerLink]="['/register']" class="text-cta">Sign up</a>
      </div>

    </div>

  </form>

</div>
